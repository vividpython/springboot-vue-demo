"use strict";(self["webpackChunkspringboot_vue_demo"]=self["webpackChunkspringboot_vue_demo"]||[]).push([[359],{2174:function(e,t,o){var n=o(6252),i=(0,n.aZ)({name:"UserFilled"});const r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},l=(0,n.Wm)("path",{fill:"currentColor",d:"M288 320a224 224 0 1 0 448 0 224 224 0 1 0-448 0zm544 608H160a32 32 0 0 1-32-32v-96a160 160 0 0 1 160-160h448a160 160 0 0 1 160 160v96a32 32 0 0 1-32 32z"},null,-1);function a(e,t,o,i,a,d){return(0,n.wg)(),(0,n.j4)("svg",r,[l])}i.render=a,i.__file="packages/components/UserFilled.vue",t["Z"]=i},903:function(e,t,o){var n=o(9812),i=n.defineComponent({name:"Lock"});const r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},l=n.createVNode("path",{fill:"currentColor",d:"M224 448a32 32 0 0 0-32 32v384a32 32 0 0 0 32 32h576a32 32 0 0 0 32-32V480a32 32 0 0 0-32-32H224zm0-64h576a96 96 0 0 1 96 96v384a96 96 0 0 1-96 96H224a96 96 0 0 1-96-96V480a96 96 0 0 1 96-96z"},null,-1),a=n.createVNode("path",{fill:"currentColor",d:"M512 544a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V576a32 32 0 0 1 32-32zm192-160v-64a192 192 0 1 0-384 0v64h384zM512 64a256 256 0 0 1 256 256v128H256V320A256 256 0 0 1 512 64z"},null,-1);function d(e,t,o,i,d,s){return n.openBlock(),n.createBlock("svg",r,[l,a])}i.render=d,i.__file="packages/components/Lock.vue",t.Z=i},6359:function(e,t,o){o.r(t),o.d(t,{default:function(){return N}});var n=o(6252),i=o(3577),r=o(9963);const l={style:{width:"100%",height:"100vh","background-image":"linear-gradient(to right, #3B455B, #5d5070)",overflow:"hidden"}},a={style:{width:"400px",margin:"150px auto"}},d={style:{color:"#cccccc","font-size":"30px","text-align":"center"}},s={style:{display:"flex"},id:"atilposition"},u=["placeholder"];function h(e,t,o,h,c,m){const g=(0,n.up)("el-input"),p=(0,n.up)("el-form-item"),f=(0,n.up)("ValidCode"),w=(0,n.up)("el-button"),C=(0,n.up)("el-button-group"),y=(0,n.up)("el-form"),v=(0,n.Q2)("loading");return(0,n.wg)(),(0,n.iD)("div",l,[(0,n._)("div",a,[(0,n._)("div",d,(0,i.zw)(e.$t("login.title")),1),(0,n.wy)(((0,n.wg)(),(0,n.j4)(y,{ref:"form",rules:c.rules,model:c.form,size:"default","element-loading-text":"Loading...","element-loading-spinner":c.svg,"element-loading-svg-view-box":"-10, -10, 50, 50","element-loading-background":"rgba(122, 122, 122, 0.8)"},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{prop:"username"},{default:(0,n.w5)((()=>[(0,n.Wm)(g,{placeholder:e.$t("login.username"),"prefix-icon":m.UserFilled,modelValue:c.form.username,"onUpdate:modelValue":t[0]||(t[0]=e=>c.form.username=e)},null,8,["placeholder","prefix-icon","modelValue"])])),_:1}),(0,n.Wm)(p,{prop:"password"},{default:(0,n.w5)((()=>[(0,n.Wm)(g,{placeholder:e.$t("login.password"),"prefix-icon":m.lock,modelValue:c.form.password,"onUpdate:modelValue":t[1]||(t[1]=e=>c.form.password=e),"show-password":""},null,8,["placeholder","prefix-icon","modelValue"])])),_:1}),(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[(0,n._)("div",s,[(0,n.wy)((0,n._)("input",{type:"text",ref:"inputCode","onUpdate:modelValue":t[2]||(t[2]=e=>c.inputCode=e),style:{width:"240px"},placeholder:e.$t("login.inputCode"),clearable:""},null,8,u),[[r.nr,c.inputCode]]),(0,n._)("span",{onClick:t[3]||(t[3]=(...e)=>m.createCode&&m.createCode(...e)),id:"spancode"},[(0,n.Wm)(f,{identifyCode:c.code},null,8,["identifyCode"])])])])),_:1}),(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[(0,n.Wm)(w,{style:{width:"100%"},type:"primary",onClick:m.login},{default:(0,n.w5)((()=>[(0,n.Uk)((0,i.zw)(e.$t("login.submit")),1)])),_:1},8,["onClick"])])),_:1}),(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[(0,n.Wm)(C,null,{default:(0,n.w5)((()=>[(0,n.Wm)(w,{class:(0,i.C_)({active:"中文"===m.currentLanguage}),onClick:t[4]||(t[4]=e=>m.switchLanguage("zh-CN")),text:""},{default:(0,n.w5)((()=>[(0,n.Uk)(" 中文 ")])),_:1},8,["class"]),(0,n.Wm)(w,{class:(0,i.C_)({active:"English"===m.currentLanguage}),onClick:t[5]||(t[5]=e=>m.switchLanguage("en-US")),text:""},{default:(0,n.w5)((()=>[(0,n.Uk)(" English ")])),_:1},8,["class"])])),_:1})])),_:1})])),_:1},8,["rules","model","element-loading-spinner"])),[[v,c.loading]])])])}o(7658);var c=o(2174),m=o(903),g=o(4471),p=o(1348);const f={class:"s-draw"},w=["width","height"];function C(e,t,o,i,r,l){return(0,n.wg)(),(0,n.iD)("div",f,[(0,n._)("canvas",{id:"s-draw",width:o.contentWidth,height:o.contentHeight},null,8,w)])}var y={name:"SIdentify",props:{identifyCode:{type:String,default:"1234"},fontSizeMin:{type:Number,default:25},fontSizeMax:{type:Number,default:30},backgroundColorMin:{type:Number,default:255},backgroundColorMax:{type:Number,default:255},colorMin:{type:Number,default:0},colorMax:{type:Number,default:160},lineColorMin:{type:Number,default:100},lineColorMax:{type:Number,default:255},dotColorMin:{type:Number,default:0},dotColorMax:{type:Number,default:255},contentWidth:{type:Number,default:132},contentHeight:{type:Number,default:31}},methods:{drawLine(e){for(let t=0;t<8;t++)e.strokeStyle=this.randomColor(this.lineColorMin,this.lineColorMax),e.beginPath(),e.moveTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),e.lineTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),e.stroke()},drawDot(e){for(let t=0;t<100;t++)e.fillStyle=this.randomColor(0,255),e.beginPath(),e.arc(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight),1,0,2*Math.PI),e.fill()},randomNum(e,t){return Math.floor(Math.random()*(t-e)+e)},randomColor(e,t){let o=this.randomNum(e,t),n=this.randomNum(e,t),i=this.randomNum(e,t);return"rgb("+o+","+n+","+i+")"},drawPic(){let e=document.getElementById("s-draw"),t=e.getContext("2d");t.textBaseline="bottom",t.fillStyle=this.randomColor(this.backgroundColorMin,this.backgroundColorMax),t.fillRect(0,0,this.contentWidth,this.contentHeight);for(let o=0;o<this.identifyCode.length;o++)this.drawText(t,this.identifyCode[o],o);this.drawLine(t),this.drawDot(t)},drawText(e,t,o){e.fillStyle=this.randomColor(this.colorMin,this.colorMax),e.font=this.randomNum(this.fontSizeMin,this.fontSizeMax)+"px SimHei";let n=(o+1)*(this.contentWidth/(this.identifyCode.length+1)),i=this.randomNum(this.fontSizeMax,this.contentHeight-5);var r=this.randomNum(-45,45);e.translate(n,i),e.rotate(r*Math.PI/180),e.fillText(t,0,0),e.rotate(-r*Math.PI/180),e.translate(-n,-i)}},watch:{identifyCode(){this.drawPic()}},mounted(){this.drawPic()}},v=o(3744);const b=(0,v.Z)(y,[["render",C],["__scopeId","data-v-dd087592"]]);var x=b,k={components:{ValidCode:x},name:"Login",computed:{lock(){return m.Z},UserFilled(){return c.Z},currentLanguage(){return"zh-CN"===this.$i18n.locale?"中文":"English"}},data(){return{code:"",inputCode:"",form:{},loading:!1,svg:'\n        <path class="path" d="\n          M 30 15\n          L 28 17\n          M 25.61 25.61\n          A 15 15, 0, 0, 1, 15 30\n          A 15 15, 0, 1, 1, 27.99 7.5\n          L 15 15\n        " style="stroke-width: 4px; fill: rgba(0, 0, 0, 0)"/>\n      ',rules:{username:[{required:!0,message:this.$t("login.usernameRequired"),trigger:"blur"}],password:[{required:!0,message:this.$t("login.passwordRequired"),trigger:"blur"}],inputCode:[{required:!0,message:this.$t("login.inputCodeRequired"),trigger:"blur"}]}}},methods:{switchLanguage(e){this.$i18n.locale=e},createCode(){let e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let o=0;o<4;o++)e+=t.charAt(Math.floor(Math.random()*t.length));this.code=e},login(){this.loading=!0;let e=this;this.$refs["form"].validate((t=>{if(t){if(""===this.inputCode)return void(0,p.z8)({message:this.$t("login.inputCodeRequired"),type:"warning"});if(this.inputCode.toLowerCase()!==this.code.toLowerCase())return(0,p.z8)({message:this.$t("login.inputCodeError"),type:"error"}),this.inputCode="",void this.createCode();try{g.Z.post("/login",this.form).then((t=>{"0"===t.code?((0,p.z8)({message:this.$t("login.loginSuccess"),type:"success"}),console.log("res.data=="+t.data.token),sessionStorage.setItem("token",JSON.stringify(t.data.token)),e.$router.push("/")):((0,p.z8)({message:this.$t("login.error"),type:"error"}),this.inputCode="",this.createCode())}))}catch(o){console.error(o)}finally{this.loading=!1}}}))}},mounted(){this.createCode()}};const M=(0,v.Z)(k,[["render",h]]);var N=M}}]);
//# sourceMappingURL=359.3e840ff3.js.map